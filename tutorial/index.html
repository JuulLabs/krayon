<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tutorial | Krayon</title>
<meta name="generator" content="Jekyll v4.4.1">
<meta property="og:title" content="Tutorial">
<meta property="og:locale" content="en_US">
<meta name="description" content="Cross platform (Android, iOS &amp; JavaScript) canvas library.">
<meta property="og:description" content="Cross platform (Android, iOS &amp; JavaScript) canvas library.">
<meta property="og:site_name" content="Krayon">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Tutorial">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Cross platform (Android, iOS &amp; JavaScript) canvas library.","headline":"Tutorial","url":"/krayon/tutorial/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">
  <link rel="stylesheet" href="/krayon/assets/css/style.css">
<link type="application/atom+xml" rel="alternate" href="/krayon/feed.xml" title="Krayon">
<script src="/krayon/assets/js/sample.js"></script>
</head>
<body>
<header class="site-header">

    <div class="wrapper">
<a class="site-title" rel="author" href="/krayon/"><img src="/krayon/assets/images/krayon.svg" height="35px"></a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger">
            <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
            </label>

            <div class="trigger">
<a class="page-link" href="/krayon/api/">API</a><a class="page-link" href="/krayon/modules/">Modules</a><a class="page-link" href="/krayon/samples/">Samples</a><a class="page-link" href="/krayon/tutorial/">Tutorial</a>
</div>
        </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Tutorial</h1>
  </header>

  <div class="post-content">
    <h2 id="comparison-to-d3">Comparison to <a href="https://d3js.org/">D3</a>
</h2>

<blockquote>
  <p>D3 (or D3.js) is a free, open-source JavaScript library for visualizing data.</p>
</blockquote>

<p>D3 (which stands for “Data-Driven Documents”) is commonly used to have a dataset drive manipulation
of the HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">Document Object Model</a> (DOM).</p>

<svg class="flowchart" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 269.125px;" viewbox="0 0 269.125 70" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style xmlns="http://www.w3.org/1999/xhtml">@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css");</style>
<style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:1px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg p{margin:0;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .cluster-label span p{background-color:transparent;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .rough-node .label text,#mermaid-svg .node .label text,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .rough-node .label,#mermaid-svg .node .label,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg rect.text{fill:none;stroke-width:0;}#mermaid-svg .icon-shape,#mermaid-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .icon-shape p,#mermaid-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg .icon-shape rect,#mermaid-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="mermaid-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M100.969,35L106.652,35C112.336,35,123.703,35,134.404,35C145.104,35,155.138,35,160.155,35L165.172,35" id="L_Data_DOM_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(135.0703125, 35)"><g class="label" transform="translate(-9.1015625, -12)"><foreignobject width="18.203125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>D3</p></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-Data-0" transform="translate(54.484375, 35)"><rect class="basic label-container" style="" x="-46.484375" y="-27" width="92.96875" height="54"></rect><g class="label" style="" transform="translate(-16.484375, -12)"><rect></rect><foreignobject width="32.96875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Data</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-DOM-1" transform="translate(215.1484375, 35)"><rect class="basic label-container" style="" x="-45.9765625" y="-27" width="91.953125" height="54"></rect><g class="label" style="" transform="translate(-15.9765625, -12)"><rect></rect><foreignobject width="31.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>DOM</p></span></div></foreignobject></g></g></g></g></g></svg>

<p><a href="https://d3js.org/">D3</a>’s <a href="https://stackoverflow.com/a/50143500">“most central feature” is “data binding”</a>, whereas
data can drive the mutation of the HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a>. <a href="https://d3js.org/">D3</a> can also be used to draw to SVG or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>, but
faux elements (rather than HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a> elements) are created to take advantage of <a href="https://d3js.org/">D3</a>’s data binding
capabilities.</p>

<p><a href="https://d3js.org/">D3</a> is undoubtedly a powerful visualization library, <em>but</em> it only works in JavaScript environments
(namely, the Web).</p>

<p>Enter Krayon, a <a href="https://kotlinlang.org/">Kotlin</a>™ <a href="https://kotlinlang.org/docs/multiplatform.html">multiplatform</a> library that aims to bring powerful visualization
tools to the many platforms supported by <a href="https://kotlinlang.org/">Kotlin</a>™ (e.g. Android, iOS, Web).</p>

<h2 id="elements">Elements</h2>

<p>Since Android and iOS don’t have an HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a>, Krayon provides intermediary <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-element/index.html"><code class="language-plaintext highlighter-rouge">Element</code></a>s
that can undergo data binding and be rendered on supported platforms.</p>

<svg class="flowchart" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 620.359375px;" viewbox="0 0 620.359375 676" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style xmlns="http://www.w3.org/1999/xhtml">@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css");</style>
<style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:1px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg p{margin:0;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .cluster-label span p{background-color:transparent;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .rough-node .label text,#mermaid-svg .node .label text,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .rough-node .label,#mermaid-svg .node .label,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg rect.text{fill:none;stroke-width:0;}#mermaid-svg .icon-shape,#mermaid-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .icon-shape p,#mermaid-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg .icon-shape rect,#mermaid-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="mermaid-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster " id="Krayon" data-look="classic"><rect style="fill:#b3e5fc !important" x="150.96875" y="8" width="461.390625" height="660"></rect><g class="cluster-label " transform="translate(357.1328125, 8)"><foreignobject width="49.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Krayon</p></span></div></foreignobject></g></g><g class="cluster " id="iOS" data-look="classic"><rect style="fill:#adadad !important" x="351.5625" y="28" width="235.796875" height="124"></rect><g class="cluster-label " transform="translate(457.9375, 28)"><foreignobject width="23.046875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>iOS</p></span></div></foreignobject></g></g><g class="cluster " id="Android" data-look="classic"><rect style="fill:#9fc137 !important" x="351.5625" y="276" width="235.796875" height="228"></rect><g class="cluster-label " transform="translate(441.7734375, 276)"><foreignobject width="55.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Android</p></span></div></foreignobject></g></g><g class="cluster " id="Web" data-look="classic"><rect style="fill:#e8d44d !important" x="351.5625" y="524" width="235.796875" height="124"></rect><g class="cluster-label " transform="translate(454.1875, 524)"><foreignobject width="30.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Web</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M100.969,338L105.135,338C109.302,338,117.635,338,125.969,338C134.302,338,142.635,338,150.302,338C157.969,338,164.969,338,168.469,338L171.969,338" id="L_Data_Elements_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M248.324,365L261.364,401.833C274.404,438.667,300.483,512.333,317.689,549.167C334.896,586,343.229,586,354.388,586C365.547,586,379.531,586,386.523,586L393.516,586" id="L_Elements_HtmlKanvas_1" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M301.563,338L305.729,338C309.896,338,318.229,338,326.563,338C334.896,338,343.229,338,352.674,338C362.12,338,372.677,338,377.956,338L383.234,338" id="L_Elements_AndroidKanvas_2" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M257.883,311L269.329,294.833C280.776,278.667,303.669,246.333,319.283,230.167C334.896,214,343.229,214,355.326,214C367.422,214,383.281,214,391.211,214L399.141,214" id="L_Elements_SvgKanvas_3" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M261.559,365L272.393,377.833C283.227,390.667,304.895,416.333,319.895,429.167C334.896,442,343.229,442,351.944,442C360.659,442,369.755,442,374.303,442L378.852,442" id="L_Elements_ComposeKanvas_4" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M248.324,311L261.364,274.167C274.404,237.333,300.483,163.667,317.689,126.833C334.896,90,343.229,90,350.896,90C358.563,90,365.563,90,369.063,90L372.563,90" id="L_Elements_CGContextKanvas_5" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-Data-0" transform="translate(54.484375, 338)"><rect class="basic label-container" style="" x="-46.484375" y="-27" width="92.96875" height="54"></rect><g class="label" style="" transform="translate(-16.484375, -12)"><rect></rect><foreignobject width="32.96875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Data</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-Elements-1" transform="translate(238.765625, 338)"><rect class="basic label-container" style="" x="-62.796875" y="-27" width="125.59375" height="54"></rect><g class="label" style="" transform="translate(-32.796875, -12)"><rect></rect><foreignobject width="65.59375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Elements</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-SvgKanvas-3" transform="translate(469.4609375, 214)"><rect class="basic label-container" style="" x="-66.3203125" y="-27" width="132.640625" height="54"></rect><g class="label" style="" transform="translate(-36.3203125, -12)"><rect></rect><foreignobject width="72.640625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>SvgKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-HtmlKanvas-4" transform="translate(469.4609375, 586)"><rect class="basic label-container" style="" x="-71.9453125" y="-27" width="143.890625" height="54"></rect><g class="label" style="" transform="translate(-41.9453125, -12)"><rect></rect><foreignobject width="83.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>HtmlKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-AndroidKanvas-5" transform="translate(469.4609375, 338)"><rect class="basic label-container" style="" x="-82.2265625" y="-27" width="164.453125" height="54"></rect><g class="label" style="" transform="translate(-52.2265625, -12)"><rect></rect><foreignobject width="104.453125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>AndroidKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-ComposeKanvas-6" transform="translate(469.4609375, 442)"><rect class="basic label-container" style="" x="-86.609375" y="-27" width="173.21875" height="54"></rect><g class="label" style="" transform="translate(-56.609375, -12)"><rect></rect><foreignobject width="113.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>ComposeKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-CGContextKanvas-7" transform="translate(469.4609375, 90)"><rect class="basic label-container" style="" x="-92.8984375" y="-27" width="185.796875" height="54"></rect><g class="label" style="" transform="translate(-62.8984375, -12)"><rect></rect><foreignobject width="125.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>CGContextKanvas</p></span></div></foreignobject></g></g></g></g></g></svg>
<p><br></p>

<h2 id="drawing">Drawing</h2>

<p>To draw a simple line on an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>, we start by creating a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"canvas1"</span> <span class="na">width=</span><span class="s">"100"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">style=</span><span class="s">"outline: black 1px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>We can then perform the following in <a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Add a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Update the start and end points of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.append</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupLine1</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>       <span class="c1">// 1</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>             <span class="c1">// 2</span>
        <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>       <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="mf">10f</span>           <span class="c1">// 4</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="mf">10f</span>           <span class="c1">// 4</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="mf">90f</span>             <span class="c1">// 4</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="mf">90f</span>             <span class="c1">// 4</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span> <span class="c1">// 5</span>
<span class="p">}</span>

</code></pre></div></div>

<p>We can simply call into the JavaScript API produced by Kotlin (via <code class="language-plaintext highlighter-rouge">@JsExport</code>):</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span><span class="nx">sample</span><span class="p">.</span><span class="nx">tutorial</span><span class="p">.</span><span class="nf">setupLine1</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">canvas1</span><span class="dl">"</span><span class="p">));</span><span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>This will render as:</p>

<canvas id="canvas1" width="100" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupLine1(document.getElementById("canvas1"));</script>

<h3 id="data">Data</h3>

<p>To draw the same line as above, but powered by a dataset, we can perform the following in
<a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Selects all <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s that are children of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Associate data with the <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Combine each element of the data with a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Iterate over each item of the data (<code class="language-plaintext highlighter-rouge">data</code> is a <code class="language-plaintext highlighter-rouge">Pair&lt;Point, Point&gt;</code>) and <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s</li>
  <li>Deconstruct <code class="language-plaintext highlighter-rouge">data</code> as <code class="language-plaintext highlighter-rouge">start</code> (<code class="language-plaintext highlighter-rouge">Point</code>) and <code class="language-plaintext highlighter-rouge">end</code> (<code class="language-plaintext highlighter-rouge">Point</code>)</li>
  <li>Assign the <code class="language-plaintext highlighter-rouge">Point</code> values to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> properties (<code class="language-plaintext highlighter-rouge">startX</code>, <code class="language-plaintext highlighter-rouge">startY</code>, etc.)</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.data</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.join</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.selectAll</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="k">private</span> <span class="kd">data class</span> <span class="nc">Point</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">x</span><span class="p">:</span> <span class="nc">Float</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">y</span><span class="p">:</span> <span class="nc">Float</span><span class="p">,</span>
<span class="p">)</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupLine2</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>                              <span class="c1">// 1</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>                                    <span class="c1">// 2</span>
        <span class="p">.</span><span class="nf">selectAll</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>                           <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="nf">listOf</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mf">10f</span><span class="p">,</span> <span class="mf">10f</span><span class="p">)</span> <span class="n">to</span> <span class="nc">Point</span><span class="p">(</span><span class="mf">90f</span><span class="p">,</span> <span class="mf">90f</span><span class="p">)))</span> <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>                                <span class="c1">// 5</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="p">-&gt;</span>                                 <span class="c1">// 6</span>
            <span class="kd">val</span> <span class="p">(</span><span class="py">start</span><span class="p">,</span> <span class="py">end</span><span class="p">)</span> <span class="p">=</span> <span class="n">data</span>                       <span class="c1">// 7</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="n">start</span><span class="p">.</span><span class="n">x</span>                              <span class="c1">// 8</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="n">start</span><span class="p">.</span><span class="n">y</span>                              <span class="c1">// 8</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="n">end</span><span class="p">.</span><span class="n">x</span>                                  <span class="c1">// 8</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="n">end</span><span class="p">.</span><span class="n">y</span>                                  <span class="c1">// 8</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>                        <span class="c1">// 9</span>
<span class="p">}</span>

</code></pre></div></div>

<p>This will render as:</p>

<canvas id="canvas2" width="100" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupLine2(document.getElementById("canvas2"));</script>

<h3 id="bar-chart">Bar Chart</h3>

<p>We can use a larger dataset with the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> to create a simple bar chart. We start by
creating a larger HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"barchart"</span> <span class="na">width=</span><span class="s">"250"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">style=</span><span class="s">"outline: black 1px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>Then we can construct the bar chart in <a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Extract the <code class="language-plaintext highlighter-rouge">width</code> and <code class="language-plaintext highlighter-rouge">height</code> of the HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a> as <code class="language-plaintext highlighter-rouge">Float</code>s</li>
  <li>Create an example dataset (1 through 10, incrementing by 1)</li>
  <li>Configure scaling on the x-axis (essentially, mapping dataset indices to the width of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
  <li>Configure scaling on the y-axis (mapping the range of dataset values to the height of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)<sup>1</sup>
</li>
  <li>Configure the color and width of the bars</li>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Selects all <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s that are children of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Associate data with the <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Combine each element of the data with a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Iterate over each item of the data (indexed)</li>
  <li>Assign scaled values to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> properties (<code class="language-plaintext highlighter-rouge">startX</code>, <code class="language-plaintext highlighter-rouge">startY</code>, etc.)</li>
  <li>Assign the bar paint (from step 5)</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<p><sup>1</sup> Note that for step 4 the order of the <code class="language-plaintext highlighter-rouge">range</code> values are flipped (with <code class="language-plaintext highlighter-rouge">height</code> listed
before <code class="language-plaintext highlighter-rouge">0f</code>). This is to invert y-axis rendering, since the rendering origin is the upper left
corner (with y increasing downward).</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.color.blue</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.Paint</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.domain</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.range</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.scale</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.data</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.join</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.selectAll</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupBarChart</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="p">(</span><span class="py">width</span><span class="p">,</span> <span class="py">height</span><span class="p">)</span> <span class="p">=</span> <span class="n">element</span><span class="p">.</span><span class="n">size</span> <span class="c1">// 1</span>
    <span class="kd">val</span> <span class="py">data</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">toList</span><span class="p">()</span>        <span class="c1">// 2</span>

    <span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="nf">scale</span><span class="p">()</span>                    <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">domain</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="p">-</span> <span class="mi">1</span><span class="p">)</span>   <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">range</span><span class="p">(</span><span class="mf">0f</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>              <span class="c1">// 3</span>

    <span class="kd">val</span> <span class="py">y</span> <span class="p">=</span> <span class="nf">scale</span><span class="p">()</span>                    <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">domain</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="nf">max</span><span class="p">())</span>         <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">range</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="mf">0f</span><span class="p">)</span>             <span class="c1">// 4</span>

    <span class="kd">val</span> <span class="py">barPaint</span> <span class="p">=</span> <span class="nc">Paint</span><span class="p">.</span><span class="nc">Stroke</span><span class="p">(</span>       <span class="c1">// 5</span>
        <span class="n">color</span> <span class="p">=</span> <span class="n">blue</span><span class="p">,</span>                  <span class="c1">// 5</span>
        <span class="n">width</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>            <span class="c1">// 5</span>
    <span class="p">)</span>

    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>           <span class="c1">// 6</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>                 <span class="c1">// 7</span>
        <span class="p">.</span><span class="nf">selectAll</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>        <span class="c1">// 8</span>
        <span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>                    <span class="c1">// 9</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>             <span class="c1">// 10</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">-&gt;</span>       <span class="c1">// 11</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>    <span class="c1">// 12</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="n">y</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>        <span class="c1">// 12</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>      <span class="c1">// 12</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="n">y</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>       <span class="c1">// 12</span>
            <span class="n">paint</span> <span class="p">=</span> <span class="n">barPaint</span>           <span class="c1">// 13</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>     <span class="c1">// 14</span>
<span class="p">}</span>

<span class="k">private</span> <span class="kd">val</span> <span class="py">HTMLCanvasElement</span><span class="p">.</span><span class="n">size</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">width</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span> <span class="n">to</span> <span class="n">height</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span>

</code></pre></div></div>

<p>This will render as:</p>

<canvas id="barchart" width="250" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupBarChart(document.getElementById("barchart"));</script>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/krayon/"></data>

    <div class="wrapper">

        <div class="footer-col-wrapper">
            <div class="footer-col">
                <p class="feed-subscribe">
                    <a href="https://github.com/JuulLabs/krayon">
                        <img alt="GitHub" src="/krayon/assets/images/github-mark.svg" width="35px">
                         
                        <span>Fork me on GitHub</span>
                    </a>
                </p>
            </div>
            <div class="footer-col">
                <p>Cross platform (Android, iOS &amp; JavaScript) canvas library.</p>
            </div>
        </div>

        <div class="social-links">
<ul class="social-media-list"></ul>
</div>

    </div>

</footer>

</body>

</html>
