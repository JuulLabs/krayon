<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tutorial | Krayon</title>
<meta name="generator" content="Jekyll v4.4.1">
<meta property="og:title" content="Tutorial">
<meta property="og:locale" content="en_US">
<meta name="description" content="Cross platform (Android, iOS &amp; JavaScript) canvas library.">
<meta property="og:description" content="Cross platform (Android, iOS &amp; JavaScript) canvas library.">
<meta property="og:site_name" content="Krayon">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Tutorial">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Cross platform (Android, iOS &amp; JavaScript) canvas library.","headline":"Tutorial","url":"/krayon/tutorial/"}</script>
<!-- End Jekyll SEO tag -->
<link id="main-stylesheet" rel="stylesheet" href="/krayon/assets/css/style.css">
<link type="application/atom+xml" rel="alternate" href="/krayon/feed.xml" title="Krayon">
<script src="/krayon/assets/js/sample.js"></script>
</head>
<body>
<header class="site-header">

    <div class="wrapper">
<a class="site-title" rel="author" href="/krayon/"><img src="/krayon/assets/images/krayon.svg" height="35px"></a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger">
            <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
            </label>

            <div class="trigger">
<a class="page-link" href="/krayon/api/">API</a><a class="page-link" href="/krayon/modules/">Modules</a><a class="page-link" href="/krayon/samples/">Samples</a><a class="page-link" href="/krayon/tutorial/">Tutorial</a>
</div>
        </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Tutorial</h1>
  </header>

  <div class="post-content">
    <h2 id="comparison-to-d3">Comparison to <a href="https://d3js.org/">D3</a>
</h2>

<blockquote>
  <p>D3 (or D3.js) is a free, open-source JavaScript library for visualizing data.</p>
</blockquote>

<p>D3 (which stands for “Data-Driven Documents”) is commonly used to have a dataset drive manipulation
of the HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">Document Object Model</a> (DOM).</p>

<svg class="flowchart" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 277.578125px;" viewbox="0 0 277.578125 70" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style xmlns="http://www.w3.org/1999/xhtml">@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css");</style>
<style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:1px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg p{margin:0;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .cluster-label span p{background-color:transparent;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .rough-node .label text,#mermaid-svg .node .label text,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .rough-node .label,#mermaid-svg .node .label,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg rect.text{fill:none;stroke-width:0;}#mermaid-svg .icon-shape,#mermaid-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .icon-shape p,#mermaid-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg .icon-shape rect,#mermaid-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="mermaid-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M101.797,35L107.668,35C113.539,35,125.281,35,136.357,35C147.432,35,157.841,35,163.046,35L168.25,35" id="L_Data_DOM_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(137.0234375, 35)"><g class="label" transform="translate(-10.2265625, -12)"><foreignobject width="20.453125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>D3</p></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-Data-0" transform="translate(54.8984375, 35)"><rect class="basic label-container" style="" x="-46.8984375" y="-27" width="93.796875" height="54"></rect><g class="label" style="" transform="translate(-16.8984375, -12)"><rect></rect><foreignobject width="33.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Data</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-DOM-1" transform="translate(220.9140625, 35)"><rect class="basic label-container" style="" x="-48.6640625" y="-27" width="97.328125" height="54"></rect><g class="label" style="" transform="translate(-18.6640625, -12)"><rect></rect><foreignobject width="37.328125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>DOM</p></span></div></foreignobject></g></g></g></g></g></svg>

<p><a href="https://d3js.org/">D3</a>’s <a href="https://stackoverflow.com/a/50143500">“most central feature” is “data binding”</a>, whereas
data can drive the mutation of the HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a>. <a href="https://d3js.org/">D3</a> can also be used to draw to SVG or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>, but
faux elements (rather than HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a> elements) are created to take advantage of <a href="https://d3js.org/">D3</a>’s data binding
capabilities.</p>

<p><a href="https://d3js.org/">D3</a> is undoubtedly a powerful visualization library, <em>but</em> it only works in JavaScript environments
(namely, the Web).</p>

<p>Enter Krayon, a <a href="https://kotlinlang.org/">Kotlin</a>™ <a href="https://kotlinlang.org/docs/multiplatform.html">multiplatform</a> library that aims to bring powerful visualization
tools to the many platforms supported by <a href="https://kotlinlang.org/">Kotlin</a>™ (e.g. Android, iOS, Web).</p>

<h2 id="elements">Elements</h2>

<p>Since Android and iOS don’t have an HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a>, Krayon provides intermediary <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-element/index.html"><code class="language-plaintext highlighter-rouge">Element</code></a>s
that can undergo data binding and be rendered on supported platforms.</p>

<svg class="flowchart" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 629.015625px;" viewbox="0 0 629.015625 676" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style xmlns="http://www.w3.org/1999/xhtml">@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css");</style>
<style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:1px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg p{margin:0;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .cluster-label span p{background-color:transparent;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .rough-node .label text,#mermaid-svg .node .label text,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .rough-node .label,#mermaid-svg .node .label,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg rect.text{fill:none;stroke-width:0;}#mermaid-svg .icon-shape,#mermaid-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .icon-shape p,#mermaid-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg .icon-shape rect,#mermaid-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="mermaid-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster " id="Krayon" data-look="classic"><rect style="fill:#b3e5fc !important" x="151.796875" y="8" width="469.21875" height="660"></rect><g class="cluster-label " transform="translate(361.0546875, 8)"><foreignobject width="50.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Krayon</p></span></div></foreignobject></g></g><g class="cluster " id="iOS" data-look="classic"><rect style="fill:#adadad !important" x="353.5" y="28" width="242.515625" height="124"></rect><g class="cluster-label " transform="translate(461.421875, 28)"><foreignobject width="26.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>iOS</p></span></div></foreignobject></g></g><g class="cluster " id="Android" data-look="classic"><rect style="fill:#9fc137 !important" x="353.5" y="276" width="242.515625" height="228"></rect><g class="cluster-label " transform="translate(447.1796875, 276)"><foreignobject width="55.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Android</p></span></div></foreignobject></g></g><g class="cluster " id="Web" data-look="classic"><rect style="fill:#e8d44d !important" x="353.5" y="524" width="242.515625" height="124"></rect><g class="cluster-label " transform="translate(458.453125, 524)"><foreignobject width="32.609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Web</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M101.797,338L105.964,338C110.13,338,118.464,338,126.797,338C135.13,338,143.464,338,151.13,338C158.797,338,165.797,338,169.297,338L172.797,338" id="L_Data_Elements_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M249.767,365L262.889,401.833C276.012,438.667,302.256,512.333,319.545,549.167C336.833,586,345.167,586,356.689,586C368.211,586,382.922,586,390.277,586L397.633,586" id="L_Elements_HtmlKanvas_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M303.5,338L307.667,338C311.833,338,320.167,338,328.5,338C336.833,338,345.167,338,354.833,338C364.5,338,375.5,338,381,338L386.5,338" id="L_Elements_AndroidKanvas_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M259.386,311L270.905,294.833C282.424,278.667,305.462,246.333,321.148,230.167C336.833,214,345.167,214,357.132,214C369.096,214,384.693,214,392.491,214L400.289,214" id="L_Elements_SvgKanvas_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M263.086,365L273.988,377.833C284.891,390.667,306.695,416.333,321.764,429.167C336.833,442,345.167,442,353.723,442C362.279,442,371.057,442,375.447,442L379.836,442" id="L_Elements_ComposeKanvas_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M249.767,311L262.889,274.167C276.012,237.333,302.256,163.667,319.545,126.833C336.833,90,345.167,90,352.833,90C360.5,90,367.5,90,371,90L374.5,90" id="L_Elements_CGContextKanvas_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-Data-0" transform="translate(54.8984375, 338)"><rect class="basic label-container" style="" x="-46.8984375" y="-27" width="93.796875" height="54"></rect><g class="label" style="" transform="translate(-16.8984375, -12)"><rect></rect><foreignobject width="33.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Data</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-Elements-1" transform="translate(240.1484375, 338)"><rect class="basic label-container" style="" x="-63.3515625" y="-27" width="126.703125" height="54"></rect><g class="label" style="" transform="translate(-33.3515625, -12)"><rect></rect><foreignobject width="66.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Elements</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-SvgKanvas-3" transform="translate(474.7578125, 214)"><rect class="basic label-container" style="" x="-70.46875" y="-27" width="140.9375" height="54"></rect><g class="label" style="" transform="translate(-40.46875, -12)"><rect></rect><foreignobject width="80.9375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>SvgKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-HtmlKanvas-4" transform="translate(474.7578125, 586)"><rect class="basic label-container" style="" x="-73.125" y="-27" width="146.25" height="54"></rect><g class="label" style="" transform="translate(-43.125, -12)"><rect></rect><foreignobject width="86.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>HtmlKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-AndroidKanvas-5" transform="translate(474.7578125, 338)"><rect class="basic label-container" style="" x="-84.2578125" y="-27" width="168.515625" height="54"></rect><g class="label" style="" transform="translate(-54.2578125, -12)"><rect></rect><foreignobject width="108.515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>AndroidKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-ComposeKanvas-6" transform="translate(474.7578125, 442)"><rect class="basic label-container" style="" x="-90.921875" y="-27" width="181.84375" height="54"></rect><g class="label" style="" transform="translate(-60.921875, -12)"><rect></rect><foreignobject width="121.84375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>ComposeKanvas</p></span></div></foreignobject></g></g><g class="node default  " id="flowchart-CGContextKanvas-7" transform="translate(474.7578125, 90)"><rect class="basic label-container" style="" x="-96.2578125" y="-27" width="192.515625" height="54"></rect><g class="label" style="" transform="translate(-66.2578125, -12)"><rect></rect><foreignobject width="132.515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>CGContextKanvas</p></span></div></foreignobject></g></g></g></g></g></svg>
<p><br></p>

<h2 id="drawing">Drawing</h2>

<p>To draw a simple line on an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>, we start by creating a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"canvas1"</span> <span class="na">width=</span><span class="s">"100"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">style=</span><span class="s">"outline: black 1px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>We can then perform the following in <a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Add a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Update the start and end points of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.append</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupLine1</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>       <span class="c1">// 1</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>             <span class="c1">// 2</span>
        <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>       <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="mf">10f</span>           <span class="c1">// 4</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="mf">10f</span>           <span class="c1">// 4</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="mf">90f</span>             <span class="c1">// 4</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="mf">90f</span>             <span class="c1">// 4</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span> <span class="c1">// 5</span>
<span class="p">}</span>

</code></pre></div></div>

<p>We can simply call into the JavaScript API produced by Kotlin (via <code class="language-plaintext highlighter-rouge">@JsExport</code>):</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span><span class="nx">sample</span><span class="p">.</span><span class="nx">tutorial</span><span class="p">.</span><span class="nf">setupLine1</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">canvas1</span><span class="dl">"</span><span class="p">));</span><span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>This will render as:</p>

<canvas id="canvas1" width="100" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupLine1(document.getElementById("canvas1"));</script>

<h3 id="data">Data</h3>

<p>To draw the same line as above, but powered by a dataset, we can perform the following in
<a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Selects all <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s that are children of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Associate data with the <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Combine each element of the data with a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Iterate over each item of the data (<code class="language-plaintext highlighter-rouge">data</code> is a <code class="language-plaintext highlighter-rouge">Pair&lt;Point, Point&gt;</code>) and <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s</li>
  <li>Deconstruct <code class="language-plaintext highlighter-rouge">data</code> as <code class="language-plaintext highlighter-rouge">start</code> (<code class="language-plaintext highlighter-rouge">Point</code>) and <code class="language-plaintext highlighter-rouge">end</code> (<code class="language-plaintext highlighter-rouge">Point</code>)</li>
  <li>Assign the <code class="language-plaintext highlighter-rouge">Point</code> values to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> properties (<code class="language-plaintext highlighter-rouge">startX</code>, <code class="language-plaintext highlighter-rouge">startY</code>, etc.)</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.data</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.join</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.selectAll</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="k">private</span> <span class="kd">data class</span> <span class="nc">Point</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">x</span><span class="p">:</span> <span class="nc">Float</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">y</span><span class="p">:</span> <span class="nc">Float</span><span class="p">,</span>
<span class="p">)</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupLine2</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>                              <span class="c1">// 1</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>                                    <span class="c1">// 2</span>
        <span class="p">.</span><span class="nf">selectAll</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>                           <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="nf">listOf</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mf">10f</span><span class="p">,</span> <span class="mf">10f</span><span class="p">)</span> <span class="n">to</span> <span class="nc">Point</span><span class="p">(</span><span class="mf">90f</span><span class="p">,</span> <span class="mf">90f</span><span class="p">)))</span> <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>                                <span class="c1">// 5</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="p">-&gt;</span>                                 <span class="c1">// 6</span>
            <span class="kd">val</span> <span class="p">(</span><span class="py">start</span><span class="p">,</span> <span class="py">end</span><span class="p">)</span> <span class="p">=</span> <span class="n">data</span>                       <span class="c1">// 7</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="n">start</span><span class="p">.</span><span class="n">x</span>                              <span class="c1">// 8</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="n">start</span><span class="p">.</span><span class="n">y</span>                              <span class="c1">// 8</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="n">end</span><span class="p">.</span><span class="n">x</span>                                  <span class="c1">// 8</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="n">end</span><span class="p">.</span><span class="n">y</span>                                  <span class="c1">// 8</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>                        <span class="c1">// 9</span>
<span class="p">}</span>

</code></pre></div></div>

<p>This will render as:</p>

<canvas id="canvas2" width="100" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupLine2(document.getElementById("canvas2"));</script>

<h3 id="bar-chart">Bar Chart</h3>

<p>We can use a larger dataset with the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> to create a simple bar chart. We start by
creating a larger HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"barchart"</span> <span class="na">width=</span><span class="s">"250"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">style=</span><span class="s">"outline: black 1px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>Then we can construct the bar chart in <a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Extract the <code class="language-plaintext highlighter-rouge">width</code> and <code class="language-plaintext highlighter-rouge">height</code> of the HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a> as <code class="language-plaintext highlighter-rouge">Float</code>s</li>
  <li>Create an example dataset (1 through 10, incrementing by 1)</li>
  <li>Configure scaling on the x-axis (essentially, mapping dataset indices to the width of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
  <li>Configure scaling on the y-axis (mapping the range of dataset values to the height of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)<sup>1</sup>
</li>
  <li>Configure the color and width of the bars</li>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Selects all <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s that are children of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Associate data with the <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Combine each element of the data with a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Iterate over each item of the data (indexed)</li>
  <li>Assign scaled values to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> properties (<code class="language-plaintext highlighter-rouge">startX</code>, <code class="language-plaintext highlighter-rouge">startY</code>, etc.)</li>
  <li>Assign the bar paint (from step 5)</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<p><sup>1</sup> Note that for step 4 the order of the <code class="language-plaintext highlighter-rouge">range</code> values are flipped (with <code class="language-plaintext highlighter-rouge">height</code> listed
before <code class="language-plaintext highlighter-rouge">0f</code>). This is to invert y-axis rendering, since the rendering origin is the upper left
corner (with y increasing downward).</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.color.blue</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.Paint</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.domain</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.range</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.scale</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.data</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.join</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.selectAll</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupBarChart</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="p">(</span><span class="py">width</span><span class="p">,</span> <span class="py">height</span><span class="p">)</span> <span class="p">=</span> <span class="n">element</span><span class="p">.</span><span class="n">size</span> <span class="c1">// 1</span>
    <span class="kd">val</span> <span class="py">data</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">toList</span><span class="p">()</span>        <span class="c1">// 2</span>

    <span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="nf">scale</span><span class="p">()</span>                    <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">domain</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="p">-</span> <span class="mi">1</span><span class="p">)</span>   <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">range</span><span class="p">(</span><span class="mf">0f</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>              <span class="c1">// 3</span>

    <span class="kd">val</span> <span class="py">y</span> <span class="p">=</span> <span class="nf">scale</span><span class="p">()</span>                    <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">domain</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="nf">max</span><span class="p">())</span>         <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">range</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="mf">0f</span><span class="p">)</span>             <span class="c1">// 4</span>

    <span class="kd">val</span> <span class="py">barPaint</span> <span class="p">=</span> <span class="nc">Paint</span><span class="p">.</span><span class="nc">Stroke</span><span class="p">(</span>       <span class="c1">// 5</span>
        <span class="n">color</span> <span class="p">=</span> <span class="n">blue</span><span class="p">,</span>                  <span class="c1">// 5</span>
        <span class="n">width</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>            <span class="c1">// 5</span>
    <span class="p">)</span>

    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>           <span class="c1">// 6</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>                 <span class="c1">// 7</span>
        <span class="p">.</span><span class="nf">selectAll</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>        <span class="c1">// 8</span>
        <span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>                    <span class="c1">// 9</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>             <span class="c1">// 10</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">-&gt;</span>       <span class="c1">// 11</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>    <span class="c1">// 12</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="n">y</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>        <span class="c1">// 12</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>      <span class="c1">// 12</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="n">y</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>       <span class="c1">// 12</span>
            <span class="n">paint</span> <span class="p">=</span> <span class="n">barPaint</span>           <span class="c1">// 13</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>     <span class="c1">// 14</span>
<span class="p">}</span>

<span class="k">private</span> <span class="kd">val</span> <span class="py">HTMLCanvasElement</span><span class="p">.</span><span class="n">size</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">width</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span> <span class="n">to</span> <span class="n">height</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span>

</code></pre></div></div>

<p>This will render as:</p>

<canvas id="barchart" width="250" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupBarChart(document.getElementById("barchart"));</script>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/krayon/"></data>

    <div class="wrapper">

        <div class="footer-col-wrapper">
            <div class="footer-col">
                <p class="feed-subscribe">
                    <a href="https://github.com/JuulLabs/krayon">
                        <img alt="GitHub" src="/krayon/assets/images/github-mark.svg" width="35px">
                         
                        <span>Fork me on GitHub</span>
                    </a>
                </p>
            </div>
            <div class="footer-col">
                <p>Cross platform (Android, iOS &amp; JavaScript) canvas library.</p>
            </div>
        </div>

        <div class="social-links">
<ul class="social-media-list">
  <li>
    <a href="/krayon/feed.xml" target="_blank" title="Subscribe to syndication feed">
      <svg class="svg-icon grey" viewbox="0 0 16 16">
        <path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194
          11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.99 2.194-2.2 2.194C.98 16 0 15.017 0
          13.806c0-1.21.983-2.195 2.194-2.195zM10.606
          16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"></path>
      </svg>
    </a>
  </li>
</ul>
</div>

    </div>

</footer>

</body>

</html>
