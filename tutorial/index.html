<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tutorial | Krayon</title>
<meta name="generator" content="Jekyll v4.3.3">
<meta property="og:title" content="Tutorial">
<meta property="og:locale" content="en_US">
<meta name="description" content="Cross platform (Android, iOS &amp; JavaScript) canvas library.">
<meta property="og:description" content="Cross platform (Android, iOS &amp; JavaScript) canvas library.">
<meta property="og:site_name" content="Krayon">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Tutorial">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Cross platform (Android, iOS &amp; JavaScript) canvas library.","headline":"Tutorial","url":"/krayon/tutorial/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/krayon/assets/css/style.css">
<link type="application/atom+xml" rel="alternate" href="/krayon/feed.xml" title="Krayon">
<script src="/krayon/assets/js/sample.js"></script>
</head>
<body>
<header class="site-header">

    <div class="wrapper">
<a class="site-title" rel="author" href="/krayon/"><img src="/krayon/assets/images/krayon.svg" height="35px"></a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger">
            <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
            </label>

            <div class="trigger">
<a class="page-link" href="/krayon/api/">API</a><a class="page-link" href="/krayon/modules/">Modules</a><a class="page-link" href="/krayon/samples/">Samples</a><a class="page-link" href="/krayon/tutorial/">Tutorial</a>
</div>
        </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Tutorial</h1>
  </header>

  <div class="post-content">
    <h2 id="comparison-to-d3">Comparison to <a href="https://d3js.org/">D3</a>
</h2>

<blockquote>
  <p>D3 (or D3.js) is a free, open-source JavaScript library for visualizing data.</p>
</blockquote>

<p>D3 (which stands for “Data-Driven Documents”) is commonly used to have a dataset drive manipulation
of the HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">Document Object Model</a> (DOM).</p>

<svg class="mermaid" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 179.125px;" viewbox="-8 -8 179.125 50" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span,#mermaid-svg p{color:#333;}#mermaid-svg .label text,#mermaid-svg span,#mermaid-svg p{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .flowchart-label text{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span,#mermaid-svg p{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="mermaid-svg_flowchart-pointEnd" class="marker flowchart" viewbox="0 0 10 10" refx="6" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-pointStart" class="marker flowchart" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-circleEnd" class="marker flowchart" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-circleStart" class="marker flowchart" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-crossEnd" class="marker cross flowchart" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-crossStart" class="marker cross flowchart" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M47.969,17L53.652,17C59.336,17,70.703,17,81.187,17C91.671,17,101.271,17,106.072,17L110.872,17" id="L-Data-DOM-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Data LE-DOM" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(82.0703125, 17)"><g class="label" transform="translate(-9.1015625, -9.5)"><foreignobject width="18.203125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">D3</span></div></foreignobject></g></g></g><g class="nodes"><g class="node default default flowchart-label" id="flowchart-Data-0" data-node="true" data-id="Data" transform="translate(23.984375, 17)"><rect class="basic label-container" style="" rx="0" ry="0" x="-23.984375" y="-17" width="47.96875" height="34"></rect><g class="label" style="" transform="translate(-16.484375, -9.5)"><rect></rect><foreignobject width="32.96875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Data</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-DOM-1" data-node="true" data-id="DOM" transform="translate(139.6484375, 17)"><rect class="basic label-container" style="" rx="0" ry="0" x="-23.4765625" y="-17" width="46.953125" height="34"></rect><g class="label" style="" transform="translate(-15.9765625, -9.5)"><rect></rect><foreignobject width="31.953125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">DOM</span></div></foreignobject></g></g></g></g></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");</style></svg>

<p><a href="https://d3js.org/">D3</a>’s <a href="https://stackoverflow.com/a/50143500">“most central feature” is “data binding”</a>, whereas
data can drive the mutation of the HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a>. <a href="https://d3js.org/">D3</a> can also be used to draw to SVG or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>, but
faux elements (rather than HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a> elements) are created to take advantage of <a href="https://d3js.org/">D3</a>’s data binding
capabilities.</p>

<p><a href="https://d3js.org/">D3</a> is undoubtedly a powerful visualization library, <em>but</em> it only works in JavaScript environments
(namely, the Web).</p>

<p>Enter Krayon, a <a href="https://kotlinlang.org/">Kotlin</a>™ <a href="https://kotlinlang.org/docs/multiplatform.html">multiplatform</a> library that aims to bring powerful visualization
tools to the many platforms supported by <a href="https://kotlinlang.org/">Kotlin</a>™ (e.g. Android, iOS, Web).</p>

<h2 id="elements">Elements</h2>

<p>Since Android and iOS don’t have an HTML <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a>, Krayon provides intermediary <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-element/index.html"><code class="language-plaintext highlighter-rouge">Element</code></a>s
that can undergo data binding and be rendered on supported platforms.</p>

<svg class="mermaid" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 485.359375px;" viewbox="-8 -8 485.359375 576" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span,#mermaid-svg p{color:#333;}#mermaid-svg .label text,#mermaid-svg span,#mermaid-svg p{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .flowchart-label text{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span,#mermaid-svg p{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="mermaid-svg_flowchart-pointEnd" class="marker flowchart" viewbox="0 0 10 10" refx="6" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-pointStart" class="marker flowchart" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-circleEnd" class="marker flowchart" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-circleStart" class="marker flowchart" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-crossEnd" class="marker cross flowchart" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-crossStart" class="marker cross flowchart" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster default flowchart-label" id="Krayon"><rect style="fill:#b3e5fc;" rx="0" ry="0" x="97.96875" y="0" width="371.390625" height="560"></rect><g class="cluster-label" transform="translate(259.1328125, 0)"><foreignobject width="49.0625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Krayon</span></div></foreignobject></g></g><g class="cluster default flowchart-label" id="Web"><rect style="fill:#e8d44d;" rx="0" ry="0" x="253.5625" y="104" width="190.796875" height="104"></rect><g class="cluster-label" transform="translate(333.6875, 104)"><foreignobject width="30.546875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Web</span></div></foreignobject></g></g><g class="cluster default flowchart-label" id="Android"><rect style="fill:#9fc137;" rx="0" ry="0" x="253.5625" y="228" width="190.796875" height="188"></rect><g class="cluster-label" transform="translate(321.2734375, 228)"><foreignobject width="55.375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Android</span></div></foreignobject></g></g><g class="cluster default flowchart-label" id="iOS"><rect style="fill:#adadad;" rx="0" ry="0" x="253.5625" y="436" width="190.796875" height="104"></rect><g class="cluster-label" transform="translate(337.4375, 436)"><foreignobject width="23.046875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">iOS</span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M47.969,280L52.135,280C56.302,280,64.635,280,72.969,280C81.302,280,89.635,280,97.085,280C104.535,280,111.102,280,114.385,280L117.669,280" id="L-Data-Elements-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Data LE-Elements" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path><path d="M172.218,263L181.608,245.167C190.999,227.333,209.781,191.667,223.338,173.833C236.896,156,245.229,156,256.171,156C267.114,156,280.665,156,287.44,156L294.216,156" id="L-Elements-HtmlKanvas-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Elements LE-HtmlKanvas" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path><path d="M203.563,280L207.729,280C211.896,280,220.229,280,228.563,280C236.896,280,245.229,280,254.458,280C263.686,280,273.81,280,278.872,280L283.934,280" id="L-Elements-AndroidKanvas-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Elements LE-AndroidKanvas" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path><path d="M168.134,263L178.206,227.833C188.277,192.667,208.42,122.333,222.658,87.167C236.896,52,245.229,52,257.109,52C268.989,52,284.415,52,292.128,52L299.841,52" id="L-Elements-SvgKanvas-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Elements LE-SvgKanvas" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path><path d="M176.48,297L185.161,308.167C193.841,319.333,211.202,341.667,224.049,352.833C236.896,364,245.229,364,253.727,364C262.226,364,270.889,364,275.22,364L279.552,364" id="L-Elements-ComposeKanvas-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Elements LE-ComposeKanvas" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path><path d="M168.602,297L178.596,328.833C188.589,360.667,208.576,424.333,222.736,456.167C236.896,488,245.229,488,252.679,488C260.129,488,266.696,488,269.979,488L273.263,488" id="L-Elements-CGContextKanvas-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Elements LE-CGContextKanvas" style="fill:none;" marker-end="url(#mermaid-svg_flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default default flowchart-label" id="flowchart-Elements-1" data-node="true" data-id="Elements" transform="translate(163.265625, 280)"><rect class="basic label-container" style="" rx="0" ry="0" x="-40.296875" y="-17" width="80.59375" height="34"></rect><g class="label" style="" transform="translate(-32.796875, -9.5)"><rect></rect><foreignobject width="65.59375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Elements</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-SvgKanvas-3" data-node="true" data-id="SvgKanvas" transform="translate(348.9609375, 52)"><rect class="basic label-container" style="" rx="0" ry="0" x="-43.8203125" y="-17" width="87.640625" height="34"></rect><g class="label" style="" transform="translate(-36.3203125, -9.5)"><rect></rect><foreignobject width="72.640625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">SvgKanvas</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-CGContextKanvas-7" data-node="true" data-id="CGContextKanvas" transform="translate(348.9609375, 488)"><rect class="basic label-container" style="" rx="0" ry="0" x="-70.3984375" y="-17" width="140.796875" height="34"></rect><g class="label" style="" transform="translate(-62.8984375, -9.5)"><rect></rect><foreignobject width="125.796875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CGContextKanvas</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-AndroidKanvas-5" data-node="true" data-id="AndroidKanvas" transform="translate(348.9609375, 280)"><rect class="basic label-container" style="" rx="0" ry="0" x="-59.7265625" y="-17" width="119.453125" height="34"></rect><g class="label" style="" transform="translate(-52.2265625, -9.5)"><rect></rect><foreignobject width="104.453125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">AndroidKanvas</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-ComposeKanvas-6" data-node="true" data-id="ComposeKanvas" transform="translate(348.9609375, 364)"><rect class="basic label-container" style="" rx="0" ry="0" x="-64.109375" y="-17" width="128.21875" height="34"></rect><g class="label" style="" transform="translate(-56.609375, -9.5)"><rect></rect><foreignobject width="113.21875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">ComposeKanvas</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-HtmlKanvas-4" data-node="true" data-id="HtmlKanvas" transform="translate(348.9609375, 156)"><rect class="basic label-container" style="" rx="0" ry="0" x="-49.4453125" y="-17" width="98.890625" height="34"></rect><g class="label" style="" transform="translate(-41.9453125, -9.5)"><rect></rect><foreignobject width="83.890625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">HtmlKanvas</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-Data-0" data-node="true" data-id="Data" transform="translate(23.984375, 280)"><rect class="basic label-container" style="" rx="0" ry="0" x="-23.984375" y="-17" width="47.96875" height="34"></rect><g class="label" style="" transform="translate(-16.484375, -9.5)"><rect></rect><foreignobject width="32.96875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Data</span></div></foreignobject></g></g></g></g></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");</style></svg>
<p><br></p>

<h2 id="drawing">Drawing</h2>

<p>To draw a simple line on an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>, we start by creating a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"canvas1"</span> <span class="na">width=</span><span class="s">"100"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">style=</span><span class="s">"outline: black 1px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>We can then perform the following in <a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Add a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Update the start and end points of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.append</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupLine1</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>       <span class="c1">// 1</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>             <span class="c1">// 2</span>
        <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>       <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="mf">10f</span>           <span class="c1">// 4</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="mf">10f</span>           <span class="c1">// 4</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="mf">90f</span>             <span class="c1">// 4</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="mf">90f</span>             <span class="c1">// 4</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span> <span class="c1">// 5</span>
<span class="p">}</span>

</code></pre></div></div>

<p>We can simply call into the JavaScript API produced by Kotlin (via <code class="language-plaintext highlighter-rouge">@JsExport</code>):</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span><span class="nx">sample</span><span class="p">.</span><span class="nx">tutorial</span><span class="p">.</span><span class="nf">setupLine1</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">canvas1</span><span class="dl">"</span><span class="p">));</span><span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>This will render as:</p>

<canvas id="canvas1" width="100" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupLine1(document.getElementById("canvas1"));</script>

<h3 id="data">Data</h3>

<p>To draw the same line as above, but powered by a dataset, we can perform the following in
<a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Selects all <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s that are children of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Associate data with the <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Combine each element of the data with a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Iterate over each item of the data (<code class="language-plaintext highlighter-rouge">data</code> is a <code class="language-plaintext highlighter-rouge">Pair&lt;Point, Point&gt;</code>) and <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s</li>
  <li>Deconstruct <code class="language-plaintext highlighter-rouge">data</code> as <code class="language-plaintext highlighter-rouge">start</code> (<code class="language-plaintext highlighter-rouge">Point</code>) and <code class="language-plaintext highlighter-rouge">end</code> (<code class="language-plaintext highlighter-rouge">Point</code>)</li>
  <li>Assign the <code class="language-plaintext highlighter-rouge">Point</code> values to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> properties (<code class="language-plaintext highlighter-rouge">startX</code>, <code class="language-plaintext highlighter-rouge">startY</code>, etc.)</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.data</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.join</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.selectAll</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="k">private</span> <span class="kd">data class</span> <span class="nc">Point</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">x</span><span class="p">:</span> <span class="nc">Float</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">y</span><span class="p">:</span> <span class="nc">Float</span><span class="p">,</span>
<span class="p">)</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupLine2</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>                              <span class="c1">// 1</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>                                    <span class="c1">// 2</span>
        <span class="p">.</span><span class="nf">selectAll</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>                           <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="nf">listOf</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mf">10f</span><span class="p">,</span> <span class="mf">10f</span><span class="p">)</span> <span class="n">to</span> <span class="nc">Point</span><span class="p">(</span><span class="mf">90f</span><span class="p">,</span> <span class="mf">90f</span><span class="p">)))</span> <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>                                <span class="c1">// 5</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="p">-&gt;</span>                                 <span class="c1">// 6</span>
            <span class="kd">val</span> <span class="p">(</span><span class="py">start</span><span class="p">,</span> <span class="py">end</span><span class="p">)</span> <span class="p">=</span> <span class="n">data</span>                       <span class="c1">// 7</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="n">start</span><span class="p">.</span><span class="n">x</span>                              <span class="c1">// 8</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="n">start</span><span class="p">.</span><span class="n">y</span>                              <span class="c1">// 8</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="n">end</span><span class="p">.</span><span class="n">x</span>                                  <span class="c1">// 8</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="n">end</span><span class="p">.</span><span class="n">y</span>                                  <span class="c1">// 8</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>                        <span class="c1">// 9</span>
<span class="p">}</span>

</code></pre></div></div>

<p>This will render as:</p>

<canvas id="canvas2" width="100" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupLine2(document.getElementById("canvas2"));</script>

<h3 id="bar-chart">Bar Chart</h3>

<p>We can use a larger dataset with the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> to create a simple bar chart. We start by
creating a larger HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"barchart"</span> <span class="na">width=</span><span class="s">"250"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">style=</span><span class="s">"outline: black 1px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>Then we can construct the bar chart in <a href="https://kotlinlang.org/">Kotlin</a>™:</p>

<ol>
  <li>Extract the <code class="language-plaintext highlighter-rouge">width</code> and <code class="language-plaintext highlighter-rouge">height</code> of the HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a> as <code class="language-plaintext highlighter-rouge">Float</code>s</li>
  <li>Create an example dataset (1 through 10, incrementing by 1)</li>
  <li>Configure scaling on the x-axis (essentially, mapping dataset indices to the width of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
  <li>Configure scaling on the y-axis (mapping the range of dataset values to the height of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)<sup>1</sup>
</li>
  <li>Configure the color and width of the bars</li>
  <li>Create a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Access <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> as a <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Selects all <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>s that are children of the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a>
</li>
  <li>Associate data with the <a href="https://juullabs.github.io/krayon/api/selection/com.juul.krayon.selection/-selection/index.html"><code class="language-plaintext highlighter-rouge">Selection</code></a>
</li>
  <li>Combine each element of the data with a <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a>
</li>
  <li>Iterate over each item of the data (indexed)</li>
  <li>Assign scaled values to the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-line-element/index.html"><code class="language-plaintext highlighter-rouge">LineElement</code></a> properties (<code class="language-plaintext highlighter-rouge">startX</code>, <code class="language-plaintext highlighter-rouge">startY</code>, etc.)</li>
  <li>Assign the bar paint (from step 5)</li>
  <li>Draw the <a href="https://juullabs.github.io/krayon/api/element/com.juul.krayon.element/-root-element/index.html"><code class="language-plaintext highlighter-rouge">RootElement</code></a> to a <a href="https://juullabs.github.io/krayon/api/kanvas/com.juul.krayon.kanvas/-html-kanvas/index.html"><code class="language-plaintext highlighter-rouge">HtmlKanvas</code></a> (which bridges to an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>)</li>
</ol>

<p><sup>1</sup> Note that for step 4 the order of the <code class="language-plaintext highlighter-rouge">range</code> values are flipped (with <code class="language-plaintext highlighter-rouge">height</code> listed
before <code class="language-plaintext highlighter-rouge">0f</code>). This is to invert y-axis rendering, since the rendering origin is the upper left
corner (with y increasing downward).</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">tutorial</span>

<span class="k">import</span> <span class="nn">com.juul.krayon.color.blue</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.LineElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.element.RootElement</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.HtmlKanvas</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.kanvas.Paint</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.domain</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.range</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.scale.scale</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.asSelection</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.data</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.each</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.join</span>
<span class="k">import</span> <span class="nn">com.juul.krayon.selection.selectAll</span>
<span class="k">import</span> <span class="nn">org.w3c.dom.HTMLCanvasElement</span>

<span class="nd">@JsExport</span>
<span class="k">fun</span> <span class="nf">setupBarChart</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nc">HTMLCanvasElement</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="p">(</span><span class="py">width</span><span class="p">,</span> <span class="py">height</span><span class="p">)</span> <span class="p">=</span> <span class="n">element</span><span class="p">.</span><span class="n">size</span> <span class="c1">// 1</span>
    <span class="kd">val</span> <span class="py">data</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">toList</span><span class="p">()</span>        <span class="c1">// 2</span>

    <span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="nf">scale</span><span class="p">()</span>                    <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">domain</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span> <span class="p">-</span> <span class="mi">1</span><span class="p">)</span>   <span class="c1">// 3</span>
        <span class="p">.</span><span class="nf">range</span><span class="p">(</span><span class="mf">0f</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>              <span class="c1">// 3</span>

    <span class="kd">val</span> <span class="py">y</span> <span class="p">=</span> <span class="nf">scale</span><span class="p">()</span>                    <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">domain</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="nf">max</span><span class="p">())</span>         <span class="c1">// 4</span>
        <span class="p">.</span><span class="nf">range</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="mf">0f</span><span class="p">)</span>             <span class="c1">// 4</span>

    <span class="kd">val</span> <span class="py">barPaint</span> <span class="p">=</span> <span class="nc">Paint</span><span class="p">.</span><span class="nc">Stroke</span><span class="p">(</span>       <span class="c1">// 5</span>
        <span class="n">color</span> <span class="p">=</span> <span class="n">blue</span><span class="p">,</span>                  <span class="c1">// 5</span>
        <span class="n">width</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>            <span class="c1">// 5</span>
    <span class="p">)</span>

    <span class="kd">val</span> <span class="py">root</span> <span class="p">=</span> <span class="nc">RootElement</span><span class="p">()</span>           <span class="c1">// 6</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">asSelection</span><span class="p">()</span>                 <span class="c1">// 7</span>
        <span class="p">.</span><span class="nf">selectAll</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>        <span class="c1">// 8</span>
        <span class="p">.</span><span class="nf">data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>                    <span class="c1">// 9</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nc">LineElement</span><span class="p">)</span>             <span class="c1">// 10</span>
        <span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">-&gt;</span>       <span class="c1">// 11</span>
            <span class="n">startX</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>    <span class="c1">// 12</span>
            <span class="n">startY</span> <span class="p">=</span> <span class="n">y</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>        <span class="c1">// 12</span>
            <span class="n">endX</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>      <span class="c1">// 12</span>
            <span class="n">endY</span> <span class="p">=</span> <span class="n">y</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>       <span class="c1">// 12</span>
            <span class="n">paint</span> <span class="p">=</span> <span class="n">barPaint</span>           <span class="c1">// 13</span>
        <span class="p">}</span>
    <span class="n">root</span><span class="p">.</span><span class="nf">draw</span><span class="p">(</span><span class="nc">HtmlKanvas</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>     <span class="c1">// 14</span>
<span class="p">}</span>

<span class="k">private</span> <span class="kd">val</span> <span class="py">HTMLCanvasElement</span><span class="p">.</span><span class="n">size</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">width</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span> <span class="n">to</span> <span class="n">height</span><span class="p">.</span><span class="nf">toFloat</span><span class="p">()</span>

</code></pre></div></div>

<p>This will render as:</p>

<canvas id="barchart" width="250" height="100" style="outline: black 1px solid;"></canvas>
<script>sample.tutorial.setupBarChart(document.getElementById("barchart"));</script>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/krayon/"></data>

    <div class="wrapper">

        <div class="footer-col-wrapper">
            <div class="footer-col">
                <p class="feed-subscribe">
                    <a href="https://github.com/JuulLabs/krayon">
                        <img alt="GitHub" src="/krayon/assets/images/github-mark.svg" width="35px">
                         
                        <span>Fork me on GitHub</span>
                    </a>
                </p>
            </div>
            <div class="footer-col">
                <p>Cross platform (Android, iOS &amp; JavaScript) canvas library.</p>
            </div>
        </div>

        <div class="social-links">
<ul class="social-media-list"></ul>
</div>

    </div>

</footer>
</body>

</html>
